<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>리뷰 관리 - HealnGo</title>
    <link rel="stylesheet" href="/crm/css/company_review.css">
    <link rel="stylesheet" href="/crm/css/company_sidebar.css">
    <link rel="stylesheet" href="/crm/css/company_header.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
<div class="dashboard-container">
    <!-- 사이드바 -->
    <div th:replace="common/company_sidebar :: company_sidebar"></div>

    <!-- 메인 콘텐츠 -->
    <div class="main-content">
        <!-- 헤더 -->
        <div th:replace="common/company_header :: company_header"></div>

        <!-- 리뷰 관리 콘텐츠 -->
        <div class="review-management">
            <!-- 페이지 제목 -->
            <div class="page-header">
                <h1>리뷰관리</h1>
                <p>고객 리뷰를 확인하고 답변을 작성하세요.</p>
            </div>

            <!-- 통계 카드 -->
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <div class="stat-content">
                        <h3 th:text="${totalReviews}">26</h3>
                        <p>전체 리뷰</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 th:text="${pendingReplies}">3</h3>
                        <p>답변 대기</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3 th:text="${completedReplies}">16</h3>
                        <p>답변 완료</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="stat-content">
                        <h3 th:text="${averageRating}">4.7</h3>
                        <p>평균 평점</p>
                    </div>
                </div>
            </div>

            <!-- 검색 및 필터 -->
            <div class="search-filter-section">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="시술명 또는 고객명으로 검색" id="reviewSearch">
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">전체</button>
                    <button class="filter-btn" data-filter="pending">답변대기</button>
                    <button class="filter-btn" data-filter="completed">답변완료</button>
                    <button class="filter-btn" data-filter="high-rating">높은평점</button>
                    <button class="filter-btn" data-filter="low-rating">낮은평점</button>
                </div>
            </div>

            <!-- 리뷰 목록 및 상세 -->
            <div class="review-content">
                <!-- 리뷰 목록 -->
                <div class="review-list">
                    <div class="review-item" data-review-id="0015" data-status="completed">
                        <div class="review-header">
                            <span class="review-id">#0015</span>
                            <span class="status-badge completed">답변 완료</span>
                        </div>
                        <h4>자연스러운 힙필러 시술</h4>
                        <p class="customer">고객 : 정**</p>
                        <p class="review-text">시술 결과가 정말 만족스럽습니다. 자연스럽고 제가 원하던 모습이에요. 의료진 분들도 친절하시고...</p>
                        <div class="review-footer">
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <span>4.8</span>
                            </div>
                            <span class="date">2025-10-03</span>
                            <span class="price">150,000 원</span>
                        </div>
                    </div>

                    <div class="review-item" data-review-id="0014" data-status="pending">
                        <div class="review-header">
                            <span class="review-id">#0014</span>
                            <span class="status-badge pending">답변 대기</span>
                        </div>
                        <h4>완벽한 눈 성형 후기</h4>
                        <p class="customer">고객 : 정**</p>
                        <p class="review-text">너무 만족해요! 회복도 빨랐고 결과도 자연스러워서 주변에서 많이 예뻐졌다고 합니다.</p>
                        <div class="review-footer">
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <span>5.0</span>
                            </div>
                            <span class="date">2025-10-03</span>
                            <span class="price">700,000 원</span>
                        </div>
                    </div>

                    <div class="review-item" data-review-id="0013" data-status="completed">
                        <div class="review-header">
                            <span class="review-id">#0013</span>
                            <span class="status-badge completed">답변 완료</span>
                        </div>
                        <h4>보톡스 시술</h4>
                        <p class="customer">고객 : 정**</p>
                        <p class="review-text">효과가 좋네요. 통증도 거의 없었고 바로 일상생활 가능했습니다.</p>
                        <div class="review-footer">
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <span>4.5</span>
                            </div>
                            <span class="date">2025-10-03</span>
                            <span class="price">150,000 원</span>
                        </div>
                    </div>
                </div>

                <!-- 리뷰 상세 -->
                <div class="review-detail">
                    <div class="detail-header">
                        <span class="review-id">#0015</span>
                        <span class="status-badge completed">답변 완료</span>
                    </div>

                    <div class="detail-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="rating-score">4.8</span>
                    </div>

                    <div class="detail-info">
                        <h3>자연스러운 립필러 시술</h3>
                        <p class="customer">고객 : 정**</p>
                        <div class="detail-meta">
                            <span class="date">작성일: 2025-10-03</span>
                            <span class="price">시술 금액: 150,000 원</span>
                        </div>
                    </div>

                    <div class="review-content-box">
                        <h4>고객 리뷰</h4>
                        <div class="customer-review">
                            시술 결과가 정말 만족스럽습니다. 자연스럽고 제가 원하던 모습이에요. 의료진 분들도 친절하시고 사후관리도 좋았습니다.
                        </div>
                    </div>

                    <div class="reply-section">
                        <h4>판매자 답변</h4>
                        <div class="seller-reply">
                            소중한 후기 감사합니다. 만족하신 결과를 얻으셔서 저희도 기쁩니다. 앞으로도 최선을 다하겠습니다.
                        </div>
                    </div>

                    <div class="reply-edit-section" style="display: none;">
                        <h4>답변 수정</h4>
                        <textarea class="reply-textarea" placeholder="답변을 입력하세요...">소중한 후기 감사합니다. 만족하신 결과를 얻으셔서 저희도 기쁩니다. 앞으로도 최선을 다하겠습니다.</textarea>
                        <div class="reply-buttons">
                            <button class="cancel-btn">취소</button>
                            <button class="save-btn">답변 수정</button>
                        </div>
                    </div>

                    <button class="edit-reply-btn">답변 수정</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/crm/js/company_sidebar.js"></script>
<script src="/crm/js/company_header.js"></script>
<script src="/crm/js/company_review.js"></script>
</body>
</html>
