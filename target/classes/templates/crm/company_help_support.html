<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë„ì›€ë§ / ê³ ê°ì„¼í„° - HealnGo</title>
    <link rel="stylesheet" href="/crm/css/company_sidebar.css">
    <link rel="stylesheet" href="/crm/css/company_header.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* company_sidebar.cssì™€ company_header.cssê°€ ë©”ì¸ ë ˆì´ì•„ì›ƒ ì²˜ë¦¬ */
        
        /* ìƒë‹¨ í—¤ë” */
        .help-top-header {
            background: white;
            padding: 20px 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 0;
        }
        
        .help-header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .help-page-title {
            font-size: 28px;
            font-weight: 600;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .help-page-title i {
            color: #3498db;
        }
        
        .help-header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .notification-btn {
            background: #f8f9fa;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            color: #7f8c8d;
            transition: all 0.3s;
        }
        
        .notification-btn:hover {
            background: #e9ecef;
            color: #3498db;
        }
        
        .profile-section {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
            cursor: pointer;
        }
        
        .profile-img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
        .help-tabs {
            background: white;
            padding: 0 30px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .tab-list {
            list-style: none;
            display: flex;
            gap: 40px;
        }
        
        .tab-item {
            padding: 16px 0;
            position: relative;
            cursor: pointer;
            color: #7f8c8d;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .tab-item:hover {
            color: #3498db;
        }
        
        .tab-item.active {
            color: #3498db;
        }
        
        .tab-item.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: #3498db;
        }
        
        /* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
        .help-content-area {
            padding: 30px;
        }
        
        /* íƒ­ ì½˜í…ì¸  ì „í™˜ */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: flex;
            gap: 30px;
        }
        
        /* ì™¼ìª½: ìš”ì²­ ë¦¬ìŠ¤íŠ¸ */
        .requests-list-section {
            flex: 1;
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .new-request-btn {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s;
        }
        
        .new-request-btn:hover {
            background: #2980b9;
        }
        
        /* í•„í„° ì„¹ì…˜ */
        .filter-section {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 1px solid #e1e8ed;
            background: white;
            border-radius: 6px;
            font-size: 14px;
            color: #7f8c8d;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-btn:hover {
            border-color: #3498db;
            color: #3498db;
        }
        
        .filter-btn.active {
            background: #3498db;
            border-color: #3498db;
            color: white;
        }
        
        /* ìš”ì²­ í…Œì´ë¸” */
        .requests-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .requests-table thead th {
            text-align: left;
            padding: 12px;
            background: #f8f9fa;
            color: #5a6c7d;
            font-weight: 600;
            font-size: 13px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .requests-table tbody tr {
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .requests-table tbody tr:hover {
            background: #f8fbff;
        }
        
        .requests-table tbody tr.selected {
            background: #e3f2fd;
        }
        
        .requests-table tbody td {
            padding: 16px 12px;
            color: #5a6c7d;
            font-size: 14px;
        }
        
        .request-title {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .type-badge {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .type-badge.promotion {
            background: #e3f2fd;
            color: #1976d2;
        }
        
        .type-badge.report {
            background: #ffebee;
            color: #c62828;
        }
        
        .type-badge.tech {
            background: #f3e5f5;
            color: #7b1fa2;
        }
        
        .type-badge.payment {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .type-badge.account {
            background: #fff3e0;
            color: #e65100;
        }
        
        .status-badge {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-badge.processing {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-badge.completed {
            background: #d4edda;
            color: #155724;
        }
        
        .status-badge.rejected {
            background: #f8d7da;
            color: #721c24;
        }
        
        .priority-badge {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .priority-badge.urgent {
            background: #ffebee;
            color: #c62828;
        }
        
        .priority-badge.normal {
            background: #f5f5f5;
            color: #757575;
        }
        
        /* ì˜¤ë¥¸ìª½: ìš”ì²­ ìƒì„¸ */
        .request-detail-section {
            width: 450px;
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            position: sticky;
            top: 20px;
            height: fit-content;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }
        
        .detail-header {
            margin-bottom: 24px;
        }
        
        .detail-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 12px;
        }
        
        .detail-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .detail-info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
        }
        
        .info-label {
            color: #7f8c8d;
            font-size: 14px;
        }
        
        .info-value {
            color: #2c3e50;
            font-weight: 500;
            font-size: 14px;
        }
        
        .content-section {
            margin-bottom: 24px;
        }
        
        .content-label {
            font-size: 14px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 12px;
        }
        
        .content-text {
            background: #f8f9fa;
            padding: 16px;
            border-radius: 8px;
            line-height: 1.6;
            color: #5a6c7d;
            font-size: 14px;
        }
        
        .attachment-section {
            margin-bottom: 24px;
        }
        
        .attachment-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .attachment-item:hover {
            background: #e9ecef;
        }
        
        .attachment-icon {
            width: 40px;
            height: 40px;
            background: #3498db;
            color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .attachment-info {
            flex: 1;
        }
        
        .attachment-name {
            font-weight: 500;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .attachment-size {
            color: #7f8c8d;
            font-size: 12px;
        }
        
        .admin-answer-section {
            background: #e8f5e9;
            border-left: 4px solid #27ae60;
            padding: 16px;
            border-radius: 8px;
        }
        
        .answer-label {
            font-size: 14px;
            font-weight: 600;
            color: #27ae60;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .answer-text {
            color: #2c3e50;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .no-answer {
            background: #fff3cd;
            border-left-color: #f39c12;
            color: #856404;
        }
        
        /* ìƒˆ ìš”ì²­ ë“±ë¡ í¼ (íƒ­2) */
        #new-request-tab,
        #faq-tab,
        #policy-tab {
            flex: 1;
            max-width: 900px;
            margin: 0 auto;
        }
        
        #new-request-tab {
            max-width: 800px;
        }
        
        #requests-tab {
            flex: 1;
        }
        
        .new-request-form {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
        }
        
        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .file-upload-area {
            border: 2px dashed #e1e8ed;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-upload-area:hover {
            border-color: #3498db;
            background: #f8fbff;
        }
        
        .file-upload-icon {
            font-size: 40px;
            color: #bdc3c7;
            margin-bottom: 12px;
        }
        
        .file-upload-text {
            color: #7f8c8d;
            font-size: 14px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 14px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .submit-btn:hover {
            background: #2980b9;
        }
        
        /* FAQ ì„¹ì…˜ (íƒ­3) */
        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .faq-item {
            background: white;
            border-radius: 8px;
            margin-bottom: 12px;
            overflow: hidden;
            box-shadow: 0 2px 6px rgba(0,0,0,0.06);
        }
        
        .faq-question {
            padding: 16px 20px;
            font-weight: 600;
            color: #2c3e50;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }
        
        .faq-question:hover {
            background: #f8f9fa;
        }
        
        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s, padding 0.3s;
            color: #5a6c7d;
            line-height: 1.6;
        }
        
        .faq-item.open .faq-answer {
            padding: 0 20px 16px;
            max-height: 500px;
        }
        
        .faq-icon {
            transition: transform 0.3s;
        }
        
        .faq-item.open .faq-icon {
            transform: rotate(180deg);
        }
        
        /* ì •ì±…ì•ˆë‚´ ì„¹ì…˜ (íƒ­4) */
        .policy-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .policy-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        
        .policy-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .policy-content {
            color: #5a6c7d;
            line-height: 1.8;
            font-size: 14px;
        }
        
        .policy-content ul {
            margin: 12px 0;
            padding-left: 20px;
        }
        
        .policy-content li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <!-- ì‚¬ì´ë“œë°” -->
    <div th:replace="common/company_sidebar :: company_sidebar"></div>
    
    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="main-content">
        <!-- ìƒë‹¨ í—¤ë” -->
        <div class="help-top-header">
            <div class="help-header-content">
                <h1 class="help-page-title">
                    <i class="fas fa-headset"></i>
                    ë„ì›€ë§ / ê³ ê°ì„¼í„°
                </h1>
                <div class="help-header-right">
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="profile-section">
                        <div class="profile-img">í</div>
                        <span>íê±° í”¼ë¶€ê³¼</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="help-tabs">
            <ul class="tab-list">
                <li class="tab-item active" data-tab="requests">ìš”ì²­ ë‚´ì—­</li>
                <li class="tab-item" data-tab="new-request">ìƒˆ ìš”ì²­í•˜ê¸°</li>
                <li class="tab-item" data-tab="faq">FAQ</li>
                <li class="tab-item" data-tab="policy">ì •ì±…ì•ˆë‚´</li>
            </ul>
        </div>
        
        <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
        <div class="help-content-area">
            <!-- íƒ­1: ìš”ì²­ ë‚´ì—­ -->
            <div id="requests-tab" class="tab-content active">
                <!-- ì™¼ìª½: ìš”ì²­ ë¦¬ìŠ¤íŠ¸ -->
                <div class="requests-list-section">
                    <div class="section-header">
                        <h2 class="section-title">ğŸ“ ìš”ì²­ ë‚´ì—­</h2>
                        <button class="new-request-btn" onclick="switchTab('new-request')">
                            <i class="fas fa-plus"></i>
                            ìƒˆ ìš”ì²­í•˜ê¸°
                        </button>
                    </div>
                    
                    <!-- í•„í„° -->
                    <div class="filter-section">
                        <button class="filter-btn active" data-filter="all">ì „ì²´</button>
                        <button class="filter-btn" data-filter="processing">ì²˜ë¦¬ì¤‘</button>
                        <button class="filter-btn" data-filter="completed">ì™„ë£Œ</button>
                        <button class="filter-btn" data-filter="rejected">ë°˜ë ¤</button>
                    </div>
                    
                    <!-- ìš”ì²­ í…Œì´ë¸” -->
                    <table class="requests-table">
                        <thead>
                            <tr>
                                <th style="width: 35%">ì œëª©</th>
                                <th style="width: 15%">ìœ í˜•</th>
                                <th style="width: 12%">ìƒíƒœ</th>
                                <th style="width: 12%">ìš°ì„ ìˆœìœ„</th>
                                <th style="width: 13%">ë“±ë¡ì¼</th>
                                <th style="width: 13%">ë‹µë³€ì¼</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="request : ${requests}" 
                                th:onclick="|viewRequest(${request.id})|"
                                th:data-status="${request.status}">
                                <td class="request-title" th:text="${request.title}">11ì›” í”„ë¡œëª¨ì…˜ ìš”ì²­</td>
                                <td>
                                    <span class="type-badge" 
                                          th:classappend="${request.type == 'í”„ë¡œëª¨ì…˜'} ? 'promotion' : 
                                                          (${request.type == 'ê³ ê°ì‹ ê³ '} ? 'report' : 
                                                          (${request.type == 'ê¸°ìˆ ì§€ì›'} ? 'tech' : 
                                                          (${request.type == 'ì •ì‚°'} ? 'payment' : 'account')))"
                                          th:text="${request.type}">í”„ë¡œëª¨ì…˜</span>
                                </td>
                                <td>
                                    <span class="status-badge" 
                                          th:classappend="${request.status == 'ì²˜ë¦¬ì¤‘'} ? 'processing' : 
                                                          (${request.status == 'ì™„ë£Œ'} ? 'completed' : 'rejected')"
                                          th:text="${request.status}">ì²˜ë¦¬ì¤‘</span>
                                </td>
                                <td>
                                    <span class="priority-badge" 
                                          th:classappend="${request.priority == 'ê¸´ê¸‰'} ? 'urgent' : 'normal'"
                                          th:text="${request.priority}">ì¼ë°˜</span>
                                </td>
                                <td th:text="${request.createdDate}">2025-10-03</td>
                                <td th:text="${request.answeredDate != null ? request.answeredDate : '-'}">-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- ì˜¤ë¥¸ìª½: ìš”ì²­ ìƒì„¸ -->
                <div class="request-detail-section" id="requestDetail">
                    <div style="text-align: center; padding: 60px 20px; color: #bdc3c7;">
                        <i class="fas fa-inbox" style="font-size: 48px; margin-bottom: 16px;"></i>
                        <p>ìš”ì²­ì„ ì„ íƒí•´ì£¼ì„¸ìš”</p>
                    </div>
                </div>
            </div>
            
            <!-- íƒ­2: ìƒˆ ìš”ì²­í•˜ê¸° -->
            <div id="new-request-tab" class="tab-content">
                <div class="requests-list-section">
                    <h2 class="section-title" style="margin-bottom: 24px;">ğŸ“ ìƒˆ ìš”ì²­í•˜ê¸°</h2>
                    
                    <form class="new-request-form active" onsubmit="submitRequest(event)">
                        <div class="form-group">
                            <label class="form-label">ìš”ì²­ ì œëª© *</label>
                            <input type="text" class="form-input" placeholder="ìš”ì²­ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ìš”ì²­ ìœ í˜• *</label>
                            <select class="form-select" required>
                                <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                <option value="í”„ë¡œëª¨ì…˜">í”„ë¡œëª¨ì…˜</option>
                                <option value="ê³ ê°ì‹ ê³ ">ê³ ê° ì‹ ê³ </option>
                                <option value="ê¸°ìˆ ì§€ì›">ê¸°ìˆ  ì§€ì›</option>
                                <option value="ì •ì‚°">ì •ì‚° ë¬¸ì˜</option>
                                <option value="ê³„ì •ê´€ë¦¬">ê³„ì • ê´€ë¦¬</option>
                                <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ìš°ì„ ìˆœìœ„ *</label>
                            <select class="form-select" required>
                                <option value="ì¼ë°˜">ì¼ë°˜</option>
                                <option value="ê¸´ê¸‰">ê¸´ê¸‰</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ìš”ì²­ ë‚´ìš© *</label>
                            <textarea class="form-textarea" placeholder="ìš”ì²­ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•´ì£¼ì„¸ìš”" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì²¨ë¶€ íŒŒì¼</label>
                            <div class="file-upload-area" onclick="document.getElementById('fileInput').click()">
                                <div class="file-upload-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <p class="file-upload-text">í´ë¦­í•˜ê±°ë‚˜ íŒŒì¼ì„ ë“œë˜ê·¸í•˜ì—¬ ì—…ë¡œë“œ</p>
                                <p class="file-upload-text" style="font-size: 12px; color: #bdc3c7;">ì´ë¯¸ì§€, PDF (ìµœëŒ€ 10MB)</p>
                            </div>
                            <input type="file" id="fileInput" style="display: none" accept="image/*,.pdf">
                        </div>
                        
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane"></i>
                            ìš”ì²­ ì œì¶œ
                        </button>
                    </form>
                </div>
            </div>
            
            <!-- íƒ­3: FAQ -->
            <div id="faq-tab" class="tab-content">
                <div style="width: 100%;">
                    <h2 class="section-title" style="margin-bottom: 24px;">â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)</h2>
                    
                    <div class="faq-list">
                        <div class="faq-item">
                    <div class="faq-question">
                        <span>í”„ë¡œëª¨ì…˜ ë“±ë¡ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        "ì˜ë£Œ ì„œë¹„ìŠ¤ ê´€ë¦¬" ë©”ë‰´ì—ì„œ ì´ë²¤íŠ¸ ë“±ë¡í•˜ê¸° ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í”„ë¡œëª¨ì…˜ì„ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                        ë“±ë¡ëœ í”„ë¡œëª¨ì…˜ì€ ê´€ë¦¬ì ìŠ¹ì¸ í›„ ë©”ì¸ í˜ì´ì§€ì— ë…¸ì¶œë©ë‹ˆë‹¤.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>ì˜ˆì•½ ìº˜ë¦°ë”ëŠ” ì–´ë–»ê²Œ ê´€ë¦¬í•˜ë‚˜ìš”?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        "ì˜ˆì•½ ê´€ë¦¬" ë©”ë‰´ì—ì„œ Google Calendarì™€ ì—°ë™í•˜ì—¬ ì˜ˆì•½ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                        ì˜ˆì•½ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ë©ë‹ˆë‹¤.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>ì •ì‚°ì€ ì–¸ì œ ì´ë£¨ì–´ì§€ë‚˜ìš”?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        ë§¤ì›” 1ì¼ì— ì „ì›” ë§¤ì¶œì´ ì •ì‚°ë©ë‹ˆë‹¤. ì •ì‚° ë‚´ì—­ì€ ë“±ë¡ëœ ì´ë©”ì¼ë¡œ ë°œì†¡ë˜ë©°, 
                        ì˜ì—…ì¼ ê¸°ì¤€ 3ì¼ ì´ë‚´ì— ì§€ì • ê³„ì¢Œë¡œ ì…ê¸ˆë©ë‹ˆë‹¤.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>ì•…ì„± ë¦¬ë·°ëŠ” ì–´ë–»ê²Œ ì‹ ê³ í•˜ë‚˜ìš”?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        "í›„ê¸° ê´€ë¦¬" ë©”ë‰´ì—ì„œ í•´ë‹¹ ë¦¬ë·°ì˜ ì‹ ê³  ë²„íŠ¼ì„ í´ë¦­í•˜ê±°ë‚˜, 
                        ë„ì›€ë§/ê³ ê°ì„¼í„°ì—ì„œ "ê³ ê°ì‹ ê³ " ìœ í˜•ìœ¼ë¡œ ìš”ì²­ì„ ë“±ë¡í•´ì£¼ì„¸ìš”. 
                        ìš´ì˜íŒ€ì—ì„œ ì»¤ë®¤ë‹ˆí‹° ê°€ì´ë“œë¼ì¸ ìœ„ë°˜ ì—¬ë¶€ë¥¼ ê²€í† í•©ë‹ˆë‹¤.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>ì—…ì²´ ì •ë³´ ìˆ˜ì •ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        "ì—…ì²´ ì •ë³´ ìˆ˜ì •" ë©”ë‰´ì—ì„œ ì—…ì²´ëª…, ì—°ë½ì²˜, ì£¼ì†Œ, ìš´ì˜ì‹œê°„ ë“±ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                        ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ ë“± ì¤‘ìš” ì •ë³´ ë³€ê²½ì€ ê´€ë¦¬ì ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.
                    </div>
                </div>
            </div>
            
            <!-- íƒ­4: ì •ì±…ì•ˆë‚´ -->
            <div id="policy-tab" class="tab-content">
                <div style="width: 100%;">
                    <h2 class="section-title" style="margin-bottom: 24px;">ğŸ“‹ ì •ì±… ì•ˆë‚´</h2>
                    
                    <div class="policy-list">
                        <div class="policy-card">
                    <h3 class="policy-title">
                        <i class="fas fa-file-contract"></i>
                        ì„œë¹„ìŠ¤ ì´ìš© ì •ì±…
                    </h3>
                    <div class="policy-content">
                        <ul>
                            <li>ì—…ì²´ëŠ” ì •í™•í•˜ê³  ìµœì‹ ì˜ ì •ë³´ë¥¼ ìœ ì§€í•  ì±…ì„ì´ ìˆìŠµë‹ˆë‹¤.</li>
                            <li>í—ˆìœ„ ë˜ëŠ” ê³¼ì¥ ê´‘ê³ ëŠ” ì¦‰ì‹œ ì‚­ì œë˜ë©°, ê³„ì • ì •ì§€ ì‚¬ìœ ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                            <li>ê³ ê°ê³¼ì˜ ë¶„ìŸì€ ìš°ì„ ì ìœ¼ë¡œ ë‹¹ì‚¬ì ê°„ í•´ê²°ì„ ê¶Œì¥í•˜ë©°, í•„ìš”ì‹œ ìš´ì˜íŒ€ì´ ì¤‘ì¬í•©ë‹ˆë‹¤.</li>
                            <li>ì˜ˆì•½ ì·¨ì†ŒëŠ” 24ì‹œê°„ ì „ê¹Œì§€ ê°€ëŠ¥í•˜ë©°, ê·¸ ì´í›„ëŠ” ìˆ˜ìˆ˜ë£Œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                </div>
                
                <div class="policy-card">
                    <h3 class="policy-title">
                        <i class="fas fa-coins"></i>
                        ì •ì‚° ë° ìˆ˜ìˆ˜ë£Œ ì •ì±…
                    </h3>
                    <div class="policy-content">
                        <ul>
                            <li>í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ: ê±°ë˜ì•¡ì˜ 10% (VAT ë³„ë„)</li>
                            <li>ì •ì‚° ì£¼ê¸°: ë§¤ì›” 1ì¼ (ì „ì›” 1ì¼ ~ ë§ì¼ ë§¤ì¶œ)</li>
                            <li>ì •ì‚° ë°©ë²•: ë“±ë¡ëœ ì‚¬ì—…ì ê³„ì¢Œë¡œ ìë™ ì…ê¸ˆ</li>
                            <li>ìµœì†Œ ì •ì‚° ê¸ˆì•¡: 10,000ì› ì´ìƒ</li>
                            <li>ì •ì‚° ë³´ë¥˜: í™˜ë¶ˆ ìš”ì²­ ì²˜ë¦¬ ì¤‘ì¸ ê¸ˆì•¡ì€ ìµì›”ë¡œ ì´ì›”</li>
                        </ul>
                    </div>
                </div>
                
                <div class="policy-card">
                    <h3 class="policy-title">
                        <i class="fas fa-shield-alt"></i>
                        í™˜ë¶ˆ ë° ë¶„ìŸ ì •ì±…
                    </h3>
                    <div class="policy-content">
                        <ul>
                            <li>ì˜ˆì•½ ì·¨ì†Œ ì‹œ 24ì‹œê°„ ì „: ì „ì•¡ í™˜ë¶ˆ</li>
                            <li>ì˜ˆì•½ ì·¨ì†Œ ì‹œ 24ì‹œê°„ ì´ë‚´: 50% í™˜ë¶ˆ</li>
                            <li>ì‹œìˆ  ë‹¹ì¼ ì·¨ì†Œ: í™˜ë¶ˆ ë¶ˆê°€</li>
                            <li>ê³ ê° ìš”ì²­ í™˜ë¶ˆì€ ì—…ì²´ ì •ì±…ì— ë”°ë¥´ë©°, ë¶„ìŸ ì‹œ ìš´ì˜íŒ€ì´ ì¤‘ì¬í•©ë‹ˆë‹¤.</li>
                            <li>ë¶€ë‹¹í•œ í™˜ë¶ˆ ìš”êµ¬ëŠ” ê±°ë¶€í•  ìˆ˜ ìˆìœ¼ë©°, ì¦ë¹™ ìë£Œë¥¼ ì œì¶œí•´ì£¼ì„¸ìš”.</li>
                        </ul>
                    </div>
                </div>
                
                <div class="policy-card">
                    <h3 class="policy-title">
                        <i class="fas fa-exclamation-triangle"></i>
                        ì œì¬ ë° íŒ¨ë„í‹° ì •ì±…
                    </h3>
                    <div class="policy-content">
                        <ul>
                            <li>1ì°¨ ìœ„ë°˜: ê²½ê³  ë° í•´ë‹¹ ì½˜í…ì¸  ì‚­ì œ</li>
                            <li>2ì°¨ ìœ„ë°˜: 7ì¼ ê³„ì • ì •ì§€</li>
                            <li>3ì°¨ ìœ„ë°˜: 30ì¼ ê³„ì • ì •ì§€</li>
                            <li>ì¤‘ëŒ€í•œ ìœ„ë°˜: ì¦‰ì‹œ ê³„ì • ì˜êµ¬ ì •ì§€</li>
                            <li>ê³„ì • ì •ì§€ ê¸°ê°„ ì¤‘ ë°œìƒí•œ ì˜ˆì•½ì€ ìë™ ì·¨ì†Œë˜ë©°, ê³ ê°ì—ê²Œ ì „ì•¡ í™˜ë¶ˆë©ë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/crm/js/company_sidebar.js"></script>
    <script src="/crm/js/company_header.js"></script>
    <script>
        // íƒ­ ì „í™˜
        function switchTab(tabName) {
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            document.querySelector(`.tab-item[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }
        
        // íƒ­ í´ë¦­ ì´ë²¤íŠ¸
        document.querySelectorAll('.tab-item').forEach(tab => {
            tab.addEventListener('click', function() {
                switchTab(this.dataset.tab);
            });
        });
        
        // ìš”ì²­ ìƒì„¸ ë³´ê¸°
        function viewRequest(id) {
            // ì„ íƒëœ í–‰ í‘œì‹œ
            document.querySelectorAll('.requests-table tbody tr').forEach(tr => tr.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            // AJAXë¡œ ìƒì„¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸° (ì„ì‹œë¡œ í•˜ë“œì½”ë”©)
            const requests = /*[[${requests}]]*/ [];
            const request = requests.find(r => r.id === id);
            
            if (!request) return;
            
            const detailHtml = `
                <div class="detail-header">
                    <h3 class="detail-title">${request.title}</h3>
                    <div class="detail-badges">
                        <span class="type-badge ${getTypeBadgeClass(request.type)}">${request.type}</span>
                        <span class="status-badge ${getStatusBadgeClass(request.status)}">${request.status}</span>
                        <span class="priority-badge ${request.priority === 'ê¸´ê¸‰' ? 'urgent' : 'normal'}">${request.priority}</span>
                    </div>
                </div>
                
                <div class="detail-info-grid">
                    <div class="info-item">
                        <span class="info-label">ë“±ë¡ì¼</span>
                        <span class="info-value">${request.createdDate}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ë‹µë³€ì¼</span>
                        <span class="info-value">${request.answeredDate || '-'}</span>
                    </div>
                </div>
                
                <div class="content-section">
                    <div class="content-label">ìš”ì²­ ë‚´ìš©</div>
                    <div class="content-text">${request.content}</div>
                </div>
                
                ${request.attachment ? `
                <div class="attachment-section">
                    <div class="content-label">ì²¨ë¶€ íŒŒì¼</div>
                    <div class="attachment-item">
                        <div class="attachment-icon">
                            <i class="fas fa-file-image"></i>
                        </div>
                        <div class="attachment-info">
                            <div class="attachment-name">${request.attachment}</div>
                            <div class="attachment-size">2.3 MB</div>
                        </div>
                        <i class="fas fa-download" style="color: #3498db;"></i>
                    </div>
                </div>
                ` : ''}
                
                <div class="admin-answer-section ${!request.adminAnswer ? 'no-answer' : ''}">
                    <div class="answer-label">
                        <i class="fas ${request.adminAnswer ? 'fa-check-circle' : 'fa-clock'}"></i>
                        ìš´ì˜ì ë‹µë³€
                    </div>
                    <div class="answer-text">${request.adminAnswer || 'ë‹µë³€ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤.'}</div>
                </div>
            `;
            
            document.getElementById('requestDetail').innerHTML = detailHtml;
        }
        
        function getTypeBadgeClass(type) {
            const classes = {
                'í”„ë¡œëª¨ì…˜': 'promotion',
                'ê³ ê°ì‹ ê³ ': 'report',
                'ê¸°ìˆ ì§€ì›': 'tech',
                'ì •ì‚°': 'payment',
                'ê³„ì •ê´€ë¦¬': 'account'
            };
            return classes[type] || 'account';
        }
        
        function getStatusBadgeClass(status) {
            const classes = {
                'ì²˜ë¦¬ì¤‘': 'processing',
                'ì™„ë£Œ': 'completed',
                'ë°˜ë ¤': 'rejected'
            };
            return classes[status] || 'processing';
        }
        
        // í•„í„° ê¸°ëŠ¥
        document.querySelectorAll('.filter-section .filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // í•„í„° ë²„íŠ¼ í™œì„±í™”
                document.querySelectorAll('.filter-section .filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const filter = this.dataset.filter;
                const rows = document.querySelectorAll('.requests-table tbody tr');
                
                rows.forEach(row => {
                    if (filter === 'all') {
                        row.style.display = '';
                    } else {
                        const status = row.dataset.status;
                        if (filter === 'processing' && status === 'ì²˜ë¦¬ì¤‘') {
                            row.style.display = '';
                        } else if (filter === 'completed' && status === 'ì™„ë£Œ') {
                            row.style.display = '';
                        } else if (filter === 'rejected' && status === 'ë°˜ë ¤') {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    }
                });
            });
        });
        
        // FAQ ì•„ì½”ë””ì–¸
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', function() {
                const faqItem = this.closest('.faq-item');
                const isOpen = faqItem.classList.contains('open');
                
                // ëª¨ë“  FAQ ë‹«ê¸°
                document.querySelectorAll('.faq-item').forEach(item => item.classList.remove('open'));
                
                // í´ë¦­í•œ FAQë§Œ ì—´ê¸°
                if (!isOpen) {
                    faqItem.classList.add('open');
                }
            });
        });
        
        // ìƒˆ ìš”ì²­ ì œì¶œ
        function submitRequest(event) {
            event.preventDefault();
            alert('ìš”ì²­ì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ìš´ì˜íŒ€ì´ í™•ì¸ í›„ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');
            // ì‹¤ì œë¡œëŠ” AJAXë¡œ ì„œë²„ì— ì „ì†¡
            switchTab('requests');
        }
        
        // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        document.getElementById('fileInput').addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                const fileName = e.target.files[0].name;
                document.querySelector('.file-upload-text').textContent = `ì„ íƒëœ íŒŒì¼: ${fileName}`;
            }
        });
    </script>
</body>
</html>

